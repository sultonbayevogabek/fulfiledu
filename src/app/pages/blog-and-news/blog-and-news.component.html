<section-container>
  <div class="wrapper flex flex-col common-gap">
    <ng-container
      *ngTemplateOutlet="headerTemplate"
    />

    <ng-container
      *ngTemplateOutlet="blogsTemplate"
    />
  </div>
</section-container>

<ng-template #headerTemplate>
  @if (page() === 'home') {
    <div class="flex items-center justify-between gap-4">
      <section-heading
        heading="Blog va yangiliklar"
      />

      <custom-button
        text="Barchasini ko'rish"
      />
    </div>
  }
</ng-template>

<ng-template #blogsTemplate>
  <div class="grid grid-cols-1 500:grid-cols-2 900:grid-cols-3 1400:grid-cols-4 common-gap">
    @for (blog of blogs(); track blog.text) {
      <ng-container
        *ngTemplateOutlet="blogCard; context: { $implicit: blog }"
      />
    }
  </div>
</ng-template>

<!--Member card-->
<ng-template #blogCard let-blog>
  <div class="flex flex-col gap-3">
    <div class="aspect-[408/312] common-radius overflow-hidden bg-gray-50">
      <image class="w-full h-full" [src]="blog.image"/>
    </div>

    <div class="flex flex-col gap-2 pb-3 500:pb-0 border-b border-b-[#DCDFE7] 500:border-b-0">
      <div class="text-[#474B56] font-thin">
        {{ blog.type }}
      </div>
      <h3 class="text-[22px] 800:text-[26px] 1200:text-[28px] font-bebas leading-[1] line-clamp-2">
        {{ blog.title }}
      </h3>
      <p class="text-[#474B56] font-thin leading-[1.3]">
        {{ blog.text }}
      </p>
    </div>
  </div>
</ng-template>
